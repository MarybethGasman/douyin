#### æœ¬åœ°å¼€å‘ç¯å¢ƒ

éœ€è¦mysql å’Œ redis ç‰ˆæœ¬ä¸é™

```shell
#æ‹‰å–tmåˆ†æ”¯
git clone https://github.com/MarybethGasman/douyin.git

#ä¿®æ”¹é…ç½®æ–‡ä»¶application.yaml,é…ç½®mysqlå’Œredis
#æ”¹ä¸ºä½ è‡ªå·±çš„æ•°æ®åº“
[ç”¨æˆ·å]:[å¯†ç ]@tcp(127.0.0.1:3306)/douyin
ç¡®ä¿mysqlï¼Œrediså¯åŠ¨ä¸”ç”¨æˆ·åå¯†ç ç«¯å£æ­£ç¡®

#æŸ¥çœ‹æ•°æ®åº“æ–‡æ¡£ï¼ŒæŒ‰ç…§é‡Œé¢çš„å»ºè¡¨è¯­å¥å»ºè¡¨
#æ¸…é™¤æœªä½¿ç”¨çš„ä¾èµ–å¹¶ä¸‹è½½éœ€è¦çš„ä¾èµ–
go mod tidy -go='1.16'
#å¯åŠ¨main.go
```

#### æ¥å£ä»»åŠ¡åˆ†é…

ç™»å½•æ³¨å†Œ è°­ç›Ÿ

è§†é¢‘æµæ¥å£å’ŒæŠ•ç¨¿æ¥å£ ç®€æ‡¿è±ª

ç”¨æˆ·ä¿¡æ¯å’Œç²‰ä¸åˆ—è¡¨ å¼ åšæ€

å‘å¸ƒåˆ—è¡¨ 

èµæ“ä½œå’Œç‚¹èµåˆ—è¡¨

è¯„è®ºæ“ä½œå’Œè¯„è®ºåˆ—è¡¨ å¾æ”¿

å…³æ³¨æ“ä½œå’Œå…³æ³¨åˆ—è¡¨ é™ˆé¹¤ä¸­





--------------------------------------------------------------åˆ†ç•Œçº¿ï¼Œä¸‹é¢ä¸ç”¨çœ‹--------------------------------------------------------------







#### é¡¹ç›®åˆ›å»º

```shell
#åˆå§‹åŒ–
go mod init douyin
#ä¸‹è½½mysqlé©±åŠ¨
go get -u github.com/go-sql-driver/mysql
#ä¸‹è½½iris-goï¼Œé«˜æ€§èƒ½webæ¡†æ¶
go get github.com/kataras/iris/v12@v12.2.0-beta1
#ä¸‹è½½gorm
#go get -u gorm.io/gorm
#ä¸‹è½½redis-clientï¼Œç”¨äºç¼“å­˜
go get github.com/gomodule/redigo/redis
#ä¸‹è½½viper,ç”¨äºé…ç½®ç®¡ç†(è®°å¾—springçš„application.yamlä¹ˆğŸ˜€)
go get github.com/spf13/viper
#ä¸‹è½½go-jwtï¼Œç”¨äºtoken
go get -u github.com/dgrijalva/jwt-go@v3.2.0
#ä¸‹è½½cosçš„sdkï¼Œç”¨äºå¯¹è±¡å­˜å‚¨
go get -u github.com/tencentyun/cos-go-sdk-v5

#æ¸…é™¤æœªä½¿ç”¨çš„ä¾èµ–å¹¶è‡ªåŠ¨ä¸‹è½½éœ€è¦çš„ä¾èµ–
go mod tidy -go='1.16'
```

#### é¡¹ç›®æµ‹è¯•

Golandç›´æ¥å¯åŠ¨ä¸çŸ¥é“ä¸ºä»€ä¹ˆå¶å°”ä¼šæŠ¥no test were runï¼Œæ— å¤§è¯­

```shell
#å¯åŠ¨æµ‹è¯•æ–‡ä»¶
go test -v [.goæ–‡ä»¶]
#å¯åŠ¨æŸä¸ªæµ‹è¯•æ–¹æ³•
go test [.goæ–‡ä»¶]  -v -run [æ–¹æ³•å]
#å®é™…ä½¿ç”¨å»ºè®®åŠ --coverï¼Œè¦æ±‚è¦†ç›–åº¦è¾¾åˆ°90%ï¼Œå¦åˆ™è€ƒè™‘ä¿®æ”¹æµ‹è¯•ä»£ç 
go test -v --cover
```

#### go.mod

```go
module douyin

go 1.16

require (
	github.com/dgrijalva/jwt-go v3.2.0+incompatible // indirect
	github.com/go-redis/redis/v8 v8.11.5 // indirect
	github.com/go-sql-driver/mysql v1.6.0
	github.com/gomodule/redigo v1.8.8 // indirect
	github.com/kataras/iris/v12 v12.2.0-beta1
	github.com/spf13/viper v1.11.0 // indirect
)
```



#### è¿œç¨‹æ‹‰å–æµ‹è¯•

```shell
#æ‹‰å–tmåˆ†æ”¯
git clone https://github.com/MarybethGasman/douyin.git -b tm

#æ¸…é™¤æœªä½¿ç”¨çš„ä¾èµ–å¹¶ä¸‹è½½éœ€è¦çš„ä¾èµ–
go mod tidy -go='1.16'

#ä¿®æ”¹é…ç½®æ–‡ä»¶application.yamlä¸­çš„dataSourceName
#æ”¹ä¸ºä½ è‡ªå·±çš„æ•°æ®åº“
[ç”¨æˆ·å]:[å¯†ç ]@tcp(127.0.0.1:3306)/douyin

#è¿›å…¥æœ¬åœ°mysqlï¼Œæ–°å»ºæ•°æ®åº“
create database douyin
#å»ºè¡¨
create table tb_user (
	id bigint primary key auto_increment,
	username varchar(40) default '',
	password varchar(40) default ''
)
#å¯åŠ¨main.go
```

æ¥å£æ–‡æ¡£åœ°å€https://www.apifox.cn/apidoc/shared-8cc50618-0da6-4d5e-a398-76f3b8f766c5/api-18899952

ä½¿ç”¨APIæµ‹è¯• å·¥å…·æŒ‰ç…§æ¥å£æ–‡æ¡£è¿›è¡Œæµ‹è¯•ï¼Œæ³¨æ„ç™»é™†æ³¨å†Œæ¥å£çš„å‚æ•°ç±»å‹éƒ½æ˜¯param

ä¹Ÿå°±æ˜¯/douyin/user/register/?username=xxx&password=xxx

#### éƒ¨ç½²ç›¸å…³

```shell
#å®‰è£…goç¯å¢ƒ
wget https://go.dev/dl/go1.16.3.linux-amd64.tar.gz
tar -xvf go1.16.3.linux-amd64.tar.gz
#é…ç½®ç¯å¢ƒå˜é‡
export PATH=$PATH:/home/tan/qingxun/go/bin
source ~/.profile
#é…ç½®ä»£ç†
export GO111MODULE=on
export GOPROXY=mirrors.aliyun.com/goproxy/
#æŸ¥çœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆ
go env
#æ¢å¤é»˜è®¤env
go env -u
#æ¸…é™¤æœªä½¿ç”¨çš„ä¾èµ–å¹¶è‡ªåŠ¨ä¸‹è½½éœ€è¦çš„ä¾èµ–.go1.16.3æ²¡æœ‰-go
go mod tidy
#ç¼–è¯‘
go build
```

